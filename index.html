<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <script src="js/jquery-2.1.3.min.js"></script>
    <link rel="stylesheet" href="css/sample.css">
    <title>じゃんけん</title>
</head>

<body>

    <header>
        <h1>じゃんけん</h1>
    </header>

    <main>
        <ul>
            <li id="gu_btn" class="human_hands" >グー</li>
            <li id="choki_btn" class="human_hands" >チョキ</li>
            <li id="par_btn" class="human_hands" >パー</li>
        </ul>
        <div>あなたが選んだ手は？<br>「<span id="human_hands">ここに表示</span>」</div>
        <div>コンピュータの出した手は？<br>「<span id="pc_hands">ここに表示</span>」</div>
        <div>勝敗<br>「<span id="judgement">勝ち負け</span>」</div>
    </main>

    <footer></footer>

    <script>

        //1.人間ハンズ,PCハンズの選択肢を変数配列にいれる。それぞれ数字に置き換える（代入する）★配列を使用

        let str_human_hands = ['グー', 'チョキ', 'パー'];
        let str_pc_hands = ['グー', 'チョキ', 'パー'];


        //2.人間ハンズが選んだものを表示する

        let human = 0; //人間の選んだ選択肢の数字を代入する箱を用意する★

        $("#gu_btn").on("click", function() {
            $("#human_hands").html(str_human_hands[0]);
            human = 0; //ハコに選んだ選択肢にひもづく数値をいれてあげる処理
            console.log(human,"人間が選んだ選択肢の数字");
        });        

        $("#choki_btn").on("click", function() {
            $("#human_hands").html(str_human_hands[1]);
            human = 1; //ハコに選んだ選択肢にひもづく数値をいれてあげる処理
            console.log(human,"人間が選んだ選択肢の数字");
        });

        $("#par_btn").on("click", function() {
            $("#human_hands").html(str_human_hands[2]);
            human = 2; //ハコに選んだ選択肢にひもづく数値をいれてあげる処理
            console.log(human,"人間が選んだ選択肢の数字");
        });

     

        //3.PCハンズの選択を繰り出すための乱数を生成する（1-3）
        //4.上記3.と同時イベントでPCハンズが選んだものを表示する

        let pc = 0 //pcの数字を代入する箱を用意する★

        $(".human_hands").on('click', function(){          
            var pc_random = Math.floor(Math.random() * 3);
            console.log(pc_random, "ランダム生成した結果の数字");
            if (pc_random === 0) {
                console.log("PCの手：グー");
                $("#pc_hands").text(str_pc_hands[0]);
                pc = 0; //ハコに選んだ選択肢にひもづく数値をいれてあげる処理
            } else if (pc_random === 1) {
                console.log("PCの手：チョキ");
                $("#pc_hands").text(str_pc_hands[1]);
                pc = 1; //ハコに選んだ選択肢にひもづく数値をいれてあげる処理
            } else if (pc_random === 2) {
                console.log("PCの手：パー");
                $("#pc_hands").text(str_pc_hands[2]);
                pc = 2; //ハコに選んだ選択肢にひもづく数値をいれてあげる処理
            } 
        } );



        //5.人間ハンズとPCハンズの勝ち負け判定のif分岐処理
        //6.上記5.と同時イベントで勝ち負け結果を表示


        $(".human_hands").on('click', function(){    

            var judgement = human - pc ; //勝ち負けを判定するための計算式

            console.log(judgement, "勝敗");      
              if (judgement == 0 ) {
                console.log("あいこ");
                $("#judgement").text("あいこ"); 
            } else if (judgement == -1 || judgement == 2 ) {
                console.log(judgement, "勝ち");
                $("#judgement").text("勝ち");
            } else if (judgement == -2 || judgement == 1 ) {
                console.log(judgement, "負け");
                $("#judgement").text("負け");
            } 
        } );


    </script>

</body>

</html>